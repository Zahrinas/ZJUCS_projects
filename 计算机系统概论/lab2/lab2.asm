.ORIG x3000

LD R0, SPACE
LD R1, START
AND R2, R2, #0
LOOP0
ADD R7, R0, R1
STR R2, R7, #0
ADD R1, R1, #1
LD R7, N_END
ADD R7, R1, R7
BRN LOOP0

LDI R0, lstr1
LOOP1
LDR R1, R0, #0
ADD R1, R1, #0
BRZ OUTLOOP1
LD R7, N_BLANK
ADD R7, R1, R7
BRZ RELOOP1
LD R7, N_GRT
ADD R7, R1, R7
BRP NONTRANS1
ADD R1, R1, #8
ADD R1, R1, #8
ADD R1, R1, #8
ADD R1, R1, #8
NONTRANS1
LD R7, SPACE
ADD R7, R7, R1
LDR R6, R7, #0
ADD R6, R6, #1
STR R6, R7, #0
RELOOP1
ADD R0, R0, #1
BRNZP LOOP1
OUTLOOP1

LDI R0, lstr2
LOOP2
LDR R1, R0, #0
ADD R1, R1, #0
BRZ OUTLOOP2
LD R7, N_BLANK
ADD R7, R1, R7
BRZ RELOOP2
LD R7, N_GRT
ADD R7, R1, R7
BRP NONTRANS2
ADD R1, R1, #8
ADD R1, R1, #8
ADD R1, R1, #8
ADD R1, R1, #8
NONTRANS2
LD R7, SPACE
ADD R7, R7, R1
LDR R6, R7, #0
ADD R6, R6, #-1
STR R6, R7, #0
RELOOP2
ADD R0, R0, #1
BRNZP LOOP2
OUTLOOP2

LD R0, SPACE
LD R1, START
LOOP3
ADD R7, R0, R1
LDR R2, R7, #0
ADD R2, R2, #0
BRNP RETNO
ADD R1, R1, #1
LD R7, N_END
ADD R7, R1, R7
BRN LOOP3

LD R0, LYES
trap x22
trap x25
RETNO
LD R0, LNO
trap x22
trap x25

N_GRT .FILL xFFA0;x0060
N_BLANK .FILL xFFE0;x0020
SPACE .FILL x3200
START .FILL x0061
N_END .FILL xFF85;x007B
lstr1 .FILL x4000
lstr2 .FILL x4001
LYES .FILL YES
LNO .FILL NO
YES .STRINGZ "YES"
NO .STRINGZ "NO"
.END

.ORIG x4000
.FILL str1
.FILL str2
str1 .STRINGZ "dirtY room"
str2 .STRINGZ "dormiTory"
.END